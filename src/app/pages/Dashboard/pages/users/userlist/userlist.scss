// --- Variables ---
$bg-page: #f8f9fa;
$white: #ffffff;
$gold: #DAA520;
$border: #e9ecef;
$text-main: #333;
$text-muted: #6c757d;
$overlay: rgba(0, 0, 0, 0.5);
$primary-blue: #0d6efd;
$danger-red: #dc3545;

.page-container { padding: 30px; min-height: 100vh; background-color: $bg-page; color: $text-main; font-family: 'Segoe UI', sans-serif; }

// --- Header ---
.page-header { margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; }
.title-section h2 { margin: 0; font-weight: 800; color: $text-main; }
.search-wrapper input { width: 300px; padding: 10px 40px; border-radius: 50px; border: 1px solid $border; }

// --- List Container ---
.users-list-container {
  display: flex; flex-direction: column; gap: 15px;
}

// --- User Row Item ---
.user-row {
  display: flex; align-items: center; gap: 20px;
  background: $white; padding: 15px 25px;
  border-radius: 12px; border: 1px solid $border;
  box-shadow: 0 2px 5px rgba(0,0,0,0.02);
  transition: transform 0.2s, box-shadow 0.2s;

  &:hover {
    transform: translateX(5px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    border-left: 4px solid $gold;
  }

  // 1. Avatar
  .row-avatar {
    flex-shrink: 0;
    .avatar-wrapper { position: relative; }
    .avatar-img { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; border: 2px solid $border; }
    .avatar-placeholder { width: 50px; height: 50px; background: linear-gradient(135deg, $gold, lighten($gold, 20%)); color: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
    .status-dot { position: absolute; bottom: 0; right: 0; width: 12px; height: 12px; border-radius: 50%; border: 2px solid #fff; background: #ccc; &.active { background: #28a745; } }
  }

  // 2. Info
  .row-info {
    flex: 1;
    .info-header { display: flex; align-items: baseline; gap: 10px; }
    .user-name { margin: 0; font-size: 1.1rem; font-weight: 700; color: $text-main; }
    .user-email { font-size: 0.85rem; color: $text-muted; }
    .user-bio { font-size: 0.85rem; color: #666; margin: 4px 0 0; font-style: italic; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 300px; &.empty { color: #ccc; font-style: normal; } }
  }

  // 3. Meta (Role & Lock)
  .row-meta {
    display: flex; flex-direction: column; align-items: flex-end; gap: 5px; min-width: 120px;
    .badge-role { font-size: 0.75rem; background: #f1f3f4; padding: 4px 10px; border-radius: 20px; font-weight: 600; color: $text-main; border: 1px solid darken($border, 5%); }
    .badge-role.super { background: lighten($gold, 45%); color: darken($gold, 25%); border-color: $gold; }
    .badge-locked { font-size: 0.7rem; color: $danger-red; font-weight: bold; display: flex; align-items: center; gap: 3px; }
  }

  // 4. Actions
  .row-actions {
    display: flex; gap: 8px; margin-left: 20px;
    .btn-action {
      width: 35px; height: 35px; border-radius: 8px; border: 1px solid $border; background: #fff; cursor: pointer; color: $text-muted; transition: 0.2s; display: flex; align-items: center; justify-content: center;
      &:hover { background: $gold; color: #fff; border-color: $gold; }
      &.role:hover { background: $primary-blue; border-color: $primary-blue; color: #fff; }
      &.delete:hover { background: $danger-red; border-color: $danger-red; color: #fff; }
    }
  }
}

// --- Modals ---
.modal-backdrop { position: fixed; inset: 0; background: $overlay; z-index: 1050; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(4px); }
.modal-content { background: #fff; width: 100%; max-width: 500px; border-radius: 12px; box-shadow: 0 15px 40px rgba(0,0,0,0.3); overflow: hidden; animation: popIn 0.3s; }
.modal-header { padding: 20px; border-bottom: 1px solid $border; display: flex; justify-content: space-between; align-items: center; h3 { margin: 0; } .close-btn { background: none; border: none; font-size: 1.2rem; cursor: pointer; } }
.modal-body { padding: 25px; max-height: 70vh; overflow-y: auto; }
.modal-footer { padding: 15px 25px; border-top: 1px solid $border; background: #fcfcfc; display: flex; justify-content: flex-end; gap: 10px; }

// --- Radio List ---
.roles-radio-list {
  display: flex; flex-direction: column; gap: 10px;
  .radio-item {
    display: flex; align-items: center; padding: 12px; border: 1px solid $border; border-radius: 8px; cursor: pointer; transition: 0.2s;
    input[type="radio"] { display: none; }
    .radio-label { font-weight: 600; font-size: 1rem; color: $text-main; }
    &.selected { border-color: $gold; background: lighten($gold, 48%); .check-icon { margin-left: auto; color: $gold; } }
    &:hover:not(.selected) { background: #f9f9f9; }
  }
}

.form-group { margin-bottom: 15px; label { display: block; margin-bottom: 5px; font-weight: 600; font-size: 0.85rem; } input, textarea { width: 100%; padding: 10px; border: 1px solid $border; border-radius: 6px; } }
.form-row { display: flex; gap: 15px; div { flex: 1; } }

// --- Buttons ---
.btn-save { background: $gold; color: #fff; padding: 10px 20px; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; &:disabled { opacity: 0.7; } }
.btn-cancel { background: transparent; border: 1px solid $border; padding: 10px 20px; border-radius: 6px; cursor: pointer; &:hover { background: #f1f1f1; } }
.pagination-container { margin-top: 30px; display: flex; justify-content: center; gap: 15px; align-items: center; .btn-page { padding: 8px 16px; border: 1px solid $border; background: #fff; border-radius: 6px; cursor: pointer; &:hover:not(:disabled) { border-color: $gold; color: $gold; } } }

@keyframes popIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }

// Responsive
@media (max-width: 768px) {
  .user-row { flex-direction: column; align-items: flex-start; gap: 15px; }
  .row-meta, .row-actions { width: 100%; justify-content: space-between; flex-direction: row; }
}