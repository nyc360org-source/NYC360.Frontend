// --- Variables ---
$bg-dark: #080808;
$panel-bg: #121212;
$gold: #cfb53b; // لون ذهبي أهدأ وأكثر فخامة
$text: #eeeeee;
$text-muted: #999;
$border: #2a2a2a;
$red: #d32f2f;
$green: #388e3c;

// --- Reset & Base ---
.portal-wrapper {
  background-color: $bg-dark;
  color: $text;
  font-family: 'Roboto', sans-serif; // خط رسمي
}

.container {
  max-width: 1300px; // عرض أكبر لاستيعاب الداتا
  margin: 0 auto;
  padding: 0 15px;
}

// --- 1. Top Bar ---
.top-bar {
  background: #000;
  border-bottom: 1px solid $border;
  font-size: 0.75rem;
  padding: 8px 0;
  
  .d-flex-between { display: flex; justify-content: space-between; }
  
  .date-weather {
    display: flex;
    gap: 15px;
    color: $text-muted;
    .sep { color: #333; }
    .text-gold { color: $gold; font-weight: bold; }
  }

  .user-actions a {
    color: $text-muted;
    margin-left: 15px;
    text-decoration: none;
    font-weight: bold;
    &:hover { color: #fff; }
  }
}

// --- 2. Breaking Strip ---
.breaking-strip {
  background: $panel-bg;
  border-bottom: 1px solid $border;
  display: flex;
  height: 40px;
  align-items: center;

  .label {
    background: $red;
    color: #fff;
    height: 100%;
    display: flex;
    align-items: center;
    padding: 0 20px;
    font-weight: 900;
    font-size: 0.8rem;
    text-transform: uppercase;
  }

  .ticker-track {
    flex: 1;
    overflow: hidden;
    white-space: nowrap;
    font-size: 0.9rem;
    font-weight: 500;
    
    span { margin-right: 30px; }
  }
}

// --- 3. Hero Grid (Bento Box Style) ---
.hero-grid {
  display: grid;
  grid-template-columns: 2fr 1fr; // ثلثين وثلث
  gap: 10px; // مسافة ضيقة جداً عشان يبان مليان
  margin-top: 15px;
  height: 450px;

  .main-story {
    position: relative;
    background-size: cover;
    background-position: center;
    display: flex;
    align-items: flex-end;
    
    .overlay { position: absolute; inset: 0; background: linear-gradient(0deg, rgba(0,0,0,0.9), transparent); }
    .content {
      position: relative;
      z-index: 2;
      padding: 30px;
      h1 { font-size: 2.5rem; line-height: 1.1; margin: 10px 0; font-family: 'Playfair Display', serif; }
      p { color: #ccc; max-width: 80%; }
    }
  }

  .side-stories {
    display: grid;
    grid-template-rows: 1fr 1fr;
    gap: 10px;

    .sub-story {
      position: relative;
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: flex-end;
      
      .overlay { position: absolute; inset: 0; background: linear-gradient(0deg, rgba(0,0,0,0.9), transparent); }
      .content {
        position: relative;
        z-index: 2;
        padding: 20px;
        h3 { font-size: 1.1rem; margin: 5px 0 0; }
      }
    }
  }
}

.badge-gold, .badge-sm {
  background: $gold;
  color: #000;
  padding: 3px 8px;
  font-size: 0.7rem;
  font-weight: bold;
  text-transform: uppercase;
}
.badge-sm { background: #fff; }

// --- 4. The DENSE Section (أهم جزء) ---
.dense-section {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr; // 3 أعمدة متساوية
  gap: 1px; // فواصل رفيعة جداً
  background: $border; // لون الفواصل
  border: 1px solid $border;
  margin-top: 20px;

  > div {
    background: $bg-dark; // كل عمود لونه أسود
    padding: 20px;
    height: 400px; // ارتفاع موحد
  }

  .header-sm {
    border-bottom: 2px solid $gold;
    margin-bottom: 15px;
    h4 { margin: 0; padding-bottom: 5px; text-transform: uppercase; font-size: 0.9rem; letter-spacing: 1px; }
  }

  // Vertical Scroll Style
  .col-news-feed {
    .vertical-scroll-container {
      height: 330px;
      overflow: hidden;
      position: relative;
      
      .scroll-track {
        animation: scrollUp 20s linear infinite;
        
        .feed-item {
          border-bottom: 1px solid #1a1a1a;
          padding: 10px 0;
          .time { font-size: 0.7rem; color: $gold; font-weight: bold; display: block; }
          p { margin: 2px 0 0; font-size: 0.9rem; line-height: 1.3; }
        }
      }
    }
  }

  // Events Style
  .col-events {
    .events-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .event-card {
      display: flex;
      align-items: center;
      gap: 10px;
      background: #111;
      padding: 10px;
      border: 1px solid #222;

      .date-box {
        background: #222;
        padding: 5px 10px;
        text-align: center;
        border-radius: 4px;
        .month { display: block; font-size: 0.6rem; color: $text-muted; }
        .day { display: block; font-size: 1.1rem; font-weight: bold; color: #fff; }
      }
      .event-details {
        flex: 1;
        h5 { margin: 0; font-size: 0.9rem; }
        .loc { font-size: 0.75rem; color: $text-muted; }
      }
      .btn-xs {
        background: transparent;
        border: 1px solid #444;
        color: #fff;
        font-size: 0.7rem;
        padding: 4px 8px;
        cursor: pointer;
        &:hover { border-color: $gold; color: $gold; }
      }
    }
  }

  // Ad/Market Style
  .col-ad {
    display: flex;
    flex-direction: column;
    justify-content: space-between;

    .ad-box {
      background: linear-gradient(135deg, #1a1a1a, #000);
      padding: 20px;
      text-align: center;
      border: 1px solid #333;
      
      .ad-label { font-size: 0.6rem; color: #555; text-transform: uppercase; }
      h4 { color: $gold; margin: 10px 0; font-size: 1.2rem; }
      p { font-size: 0.85rem; color: #aaa; margin-bottom: 15px; }
      .btn-gold-full { width: 100%; background: $gold; border: none; padding: 10px; font-weight: bold; cursor: pointer; }
    }

    .market-mini {
      margin-top: 15px;
      .row {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid #222;
        font-size: 0.85rem;
        font-weight: bold;
        .green { color: $green; }
        .red { color: $red; }
      }
    }
  }
}

@keyframes scrollUp {
  0% { transform: translateY(0); }
  100% { transform: translateY(-50%); }
}

// --- 5. Media Strip ---
.media-strip {
  background: #111;
  padding: 40px 0;
  margin-top: 30px;
  border-top: 1px solid #333;
  border-bottom: 1px solid #333;

  .strip-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    h2 { margin: 0; font-size: 1.5rem; .thin { font-weight: 300; color: $text-muted; } }
    a { color: $gold; text-decoration: none; font-size: 0.9rem; }
  }

  .video-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    
    .video-card {
      .thumb {
        height: 180px;
        background-size: cover;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        
        .play-btn {
          width: 50px; height: 50px; background: rgba(0,0,0,0.7); border-radius: 50%; color: #fff; font-size: 1.5rem; display: flex; align-items: center; justify-content: center; border: 1px solid #fff; transition: 0.3s;
        }
        &:hover .play-btn { background: $gold; border-color: $gold; color: #000; }
        
        .duration { position: absolute; bottom: 5px; right: 5px; background: #000; color: #fff; font-size: 0.7rem; padding: 2px 5px; font-weight: bold; }
      }
      h4 { margin: 10px 0 0; font-size: 0.95rem; line-height: 1.3; }
    }
  }
}

// --- 6. Opinion ---
.opinion-section {
  padding: 40px 15px;
  
  .section-title {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
    h2 { margin: 0; font-family: 'Playfair Display', serif; font-style: italic; }
    .line { flex: 1; height: 1px; background: #333; }
  }

  .opinion-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 30px;

    .op-card {
      display: flex;
      gap: 15px;
      align-items: flex-start;
      
      .op-avatar { width: 60px; height: 60px; border-radius: 50%; filter: grayscale(100%); transition: 0.3s; }
      &:hover .op-avatar { filter: grayscale(0%); }
      
      .op-text {
        .author-name { color: $gold; font-size: 0.75rem; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 5px; }
        .op-title { margin: 0; font-size: 1.1rem; line-height: 1.3; font-family: 'Playfair Display', serif; }
      }
    }
  }
}

// --- 7. Footer ---
.mega-footer {
  background: #000;
  border-top: 5px solid $gold;
  padding: 60px 0 20px;
  margin-top: 50px;

  .footer-grid {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 2fr;
    gap: 40px;
    margin-bottom: 40px;

    h3 { font-size: 2rem; color: #fff; margin: 0 0 10px; }
    h4 { color: $gold; margin: 0 0 20px; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px; }
    a { display: block; color: #777; text-decoration: none; margin-bottom: 10px; transition: 0.2s; &:hover { color: #fff; } }
    p { color: #555; }
    
    .newsletter {
      input { width: 100%; padding: 10px; background: #1a1a1a; border: none; color: #fff; margin-bottom: 10px; }
      button { width: 100%; padding: 10px; background: $gold; border: none; font-weight: bold; cursor: pointer; }
    }
  }

  .sub-footer { text-align: center; color: #444; font-size: 0.8rem; border-top: 1px solid #111; padding-top: 20px; }
}

// Responsive
@media (max-width: 992px) {
  .hero-grid { grid-template-columns: 1fr; height: auto; .side-stories { display: none; } }
  .dense-section { grid-template-columns: 1fr; > div { height: auto; } }
  .video-grid, .opinion-grid, .footer-grid { grid-template-columns: 1fr; }
}